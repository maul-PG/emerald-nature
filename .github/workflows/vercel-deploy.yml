# This workflow will build and deploy your Next.js application to Vercel
# Required secrets:
#   - VERCEL_TOKEN: Your Vercel deploy token (get from https://vercel.com/account/tokens)
#   - VERCEL_ORG_ID: Your Vercel organization ID
#   - VERCEL_PROJECT_ID: Your Vercel project ID
#
# To set up:
# 1. Create a new project on Vercel and link it to your repository
# 2. Go to your Vercel dashboard → Settings → Tokens and create a new token
# 3. Go to your GitHub repository → Settings → Secrets and add:
#    - Name: VERCEL_TOKEN, Value: (your token from step 2)
#    - Name: VERCEL_ORG_ID, Value: (find in Vercel project settings)
#    - Name: VERCEL_PROJECT_ID, Value: (find in Vercel project settings)

name: Deploy to Vercel

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  deploy:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      deployments: write
    
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Deploy to Vercel
        uses: amondnet/vercel-action@v25
        with:
          vercel-token: $2hki0qpVjJn7NAIBDbwvKLHx
          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}
          vercel-project-id: $team_o9XdmQsnViP0TSKQw4sswlsj
          working-directory: ./
          vercel-args: '--prod'

# To use this workflow:
# 1. Create a Personal Token on Vercel (Settings → Tokens) and add it as GitHub secret VERCEL_TOKEN
# 2. Find your Vercel Org ID and Project ID (from Vercel dashboard) and add them as secrets VERCEL_ORG_ID and VERCEL_PROJECT_ID
# 3. Push to main — this workflow will deploy to Vercel (production)
